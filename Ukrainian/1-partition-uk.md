Цей крок потрібен щоби ми створили розділи, де буде знаходитись Windows

## Нотатки:
> **Увага!** Якщо ви видалили будь-який розділ використовуючи diskpart, Windows рано или пізно відправить команду пам'яти, яка буде неправильно розпізнана, і тому пам'ять буде стерта.
- Всі команди були протестовані.
- Всі ваші дані в Android будуть видалені.
- Ігноруйте попередження `udevadm`.
- Не запускайте ту саму команду двічі.
- НЕ ПЕРЕЗАВАНТАЖУЙТЕ ТЕЛЕФОН якщо думаєте, що зробили помилку - зверніться в [Telegram-чат проекту](https://t.me/winonvayu).

#### Завантажте TWRP через комп'ютер за допомогою fastboot
```cmd
fastboot boot <twrp.img>
```
> Якщо ви вже встановили TWRP до цього, просто завантажтеся в нього натиснувши кнопку живлення та додавання гучності при вмианні телефону.

#### Розмонтування всіх розділів
Перейдіть до розділу монтування та розмонтуйте всі розділи

## Запустіть adb shell:
```cmd
adb shell
```

### Змініть розмір таблиці розділів
> Щоб розділи Windows помістились в таблиці розділів
```sh
sgdisk --resize-table 64 /dev/block/sda
```

### Завантажте parted
```sh
parted /dev/block/sda
```


### Видаліть раздел `userdata`
> Ви повинні впевнитися що 32 это номер розділа `userdata`. Перевірте це командою  `print all`.
```sh
rm 32
```

### Створіть розділи
> Якщо ви отримаете повідомлення "Ignore or cancel?", просто введіть i и натісніть enter.

#### Для моделей 6/128:

- Створіть ESP розділ (буде містити завантажувач Windows)
```sh
mkpart esp fat32 11.8GB 12.2GB
```

- Створіть розділ, до якого буде встановлена Windows
```sh
mkpart win ntfs 12.2GB 70.2GB
```

- Створіть розділ `userdata` для використання Android поряд з Windows
```sh
mkpart userdata ext4 70.2GB 127GB
```


#### Для моделей 8/256:

- Створіть ESP розділ (буде містити завантажувач Windows)
```sh
mkpart esp fat32 11.8GB 12.2GB
```

- Створіть розділ, до якого буде встановлена Windows
```sh
mkpart win ntfs 12.2GB 132.2GB
```

- Створіть розділ `userdata` для використання Android поряд з Windows
```sh
mkpart userdata ext4 132.2GB 255GB
```


### Зробіть розділ ESP завантажувальним, щоб образ EFI міг його виявити
```sh
set 32 esp on
```

### Закрийте parted
```sh
quit
```

### Перезавантажтеся в TWRP

### Запустіть adb shell знову
```cmd
adb shell
```

### Відформатуйте розділи
- Відформатуйте розділ ESP в файлову систему FAT32
```sh
mkfs.fat -F32 -s1 /dev/block/by-name/esp
```

-  Відформатуйте розділ Windows в файлову систему NTFS
```sh
mkfs.ntfs -f /dev/block/by-name/win
```

- Відформатуйте userdata
Перейдіть в меню "Очищення", виберіть "Форматувати data", напишіть `yes` та натисніть "✓".

### Переконайтеся, що Android запускається
Перезавантажте телефон в систему и переконайтесь, що Android запускається.


## [Наступний крок: Встановлення Windows](/guide/Ukrainian/2-install-uk.md)
